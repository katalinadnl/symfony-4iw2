{% extends 'base.html.twig' %}
{% block title %}Streemi - Abonnements{% endblock %}
{% block body %}
    <section>
        <h1 class="text-lg font-medium text-black">Nos <span class="font-bold text-red-600">abonnements</span></h1>
        <p class="text-gray-400 text-lg mt-3">Profitez de notre catalogue exclusif de films & séries à prix concurentiel.</p>
        <div class="flex items-center font-medium mt-8 bg-gray-100 border border-black/10 rounded-lg px-8 py-4">
            <svg class="h-5 w-5 fill-current opacity-50 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>information</title><path d="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
            {% if is_granted('ROLE_USER') %}
                {% if app.user.currentSubscription %}
                    Votre abonnement actuel : <span class="text-red-600 font-bold ml-2">{{ app.user.currentSubscription.name }}</span>
                {% else %}
                    Votre abonnement actuel : <span class="text-red-600 font-bold ml-2">Aucun</span>
                {% endif %}
            {% else %}
                <span class="text-red-600 font-bold ml-2">Connectez-vous pour voir votre abonnement actuel.</span>
            {% endif %}
        </div>
        <ul class="mt-9 grid grid-cols-2 gap-y-5 gap-x-5">
            {% for subscription in subscriptions %}
                {% include 'parts/subscription/subscription-card.html.twig' %}
            {% endfor %}
        </ul>
    </section>
{% endblock %}
